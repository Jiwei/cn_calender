<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>XIALI - 中国农历</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="container">
    <a class="extension-btn" href="assets/xiali-chrome-extension.zip" download="xiali-chrome-extension.zip" title="下载 Chrome 扩展">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#4285F4"/><circle cx="8" cy="8" r="3.5" fill="white"/><path d="M8 0C8 0 8 5.5 8 5.5" stroke="#EA4335" stroke-width="3"/><path d="M8 8L3.5 12.5" stroke="#34A853" stroke-width="3"/><path d="M8 8L12.5 12.5" stroke="#FBBC05" stroke-width="3"/><circle cx="8" cy="8" r="2" fill="#4285F4"/></svg>
      Chrome 扩展
    </a>
    <header class="header">
      <div class="view-toggle">
        <button id="lunarViewBtn" class="toggle-btn active">农历</button>
        <button id="gregorianViewBtn" class="toggle-btn">公历</button>
      </div>
      <h1 class="year-title" id="yearTitle"><span id="yearText"></span><span class="huangdi-year" id="huangdiYear"></span></h1>
      <div class="quick-nav">
        <div class="select-group">
          <select id="yearSelect" class="nav-select"></select>
          <select id="monthSelect" class="nav-select"></select>
        </div>
        <button class="today-btn" id="todayBtn">今天</button>
      </div>
      <div class="month-nav">
        <button class="nav-btn" id="prevMonth">◄ 上月</button>
        <span class="month-title" id="monthTitle"></span>
        <button class="nav-btn" id="nextMonth">下月 ►</button>
      </div>
    </header>

    <main class="calendar">
      <div class="weekday-header" id="weekdayHeader"></div>
      <div class="calendar-grid" id="calendarGrid"></div>
    </main>

    <footer class="footer">
      <p>XIALI v0.1</p>
      <button class="tip-btn" id="tipBtn">打赏作者</button>
    </footer>
  </div>

  <!-- Tip Modal -->
  <div class="modal-overlay" id="tipModal">
    <div class="modal-content">
      <button class="modal-close" id="modalClose">&times;</button>
      <h3 class="modal-title">打赏作者</h3>
      <p class="modal-desc">感谢您的支持！</p>
      <div class="qr-code" id="qrCode">
        <img src="assets/tip-qr.png" alt="打赏二维码" onerror="this.parentElement.innerHTML='<div class=\'qr-placeholder\'>请添加收款二维码<br>miniprogram/assets/tip-qr.png</div>'">
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/lunar-javascript/lunar.js"></script>
  <script type="module" src="js/app.js"></script>
</body>
</html>
